import { getUserName } from "../services/getUserName.ts";
import { mainKeyboard } from "../keyboards/mainKeyboard.ts";

export async function welcomeAction(ctx: any) {
  const userName = await getUserName(ctx);
  const mainButtons = await mainKeyboard();

  await ctx.reply(
    `<h1>üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, ${userName}.</h1>\n\nü§ñ –Ø –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤–æ–µ–Ω–Ω–æ–π —Å–ª—É–∂–±—ã –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –≤ –ò—Ä–∫—É—Ç—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.\n\nüìã –° –º–æ–µ–π –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ:\n‚Ä¢ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Å–ª—É–∂–±—É –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É;\n‚Ä¢ —É–∑–Ω–∞—Ç—å –æ –º–µ—Ä–∞—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö –∏ —á–ª–µ–Ω–æ–≤ –∏—Ö —Å–µ–º–µ–π, –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π;\n‚Ä¢ —É–∑–Ω–∞—Ç—å –æ —Å–æ–¥–µ–π—Å—Ç–≤–∏–∏ –≤ —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ;\n‚Ä¢ —É–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.\n\nüìÑ –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞:\n/start ‚Äî –í—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞, –Ω–∞—á–Ω–µ—Ç–µ –±–µ—Å–µ–¥—É —Å ¬´—á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞¬ª.`,
    { format: "html" },
  );

  await ctx.reply("üóÉÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:", {
    format: "html",
    attachments: [mainButtons],
  });
}
