import { getUserName } from "../services/getUserName.ts";
import { menuKeyboard } from "../keyboards/menuKeyboard.ts";

export async function sendWelcome(ctx: any) {
  const userName = await getUserName(ctx);
  const menuButtons = await menuKeyboard();
  console.log(ctx.user);

  await ctx.reply(
    `<h1>üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, ${userName}.</h1>
    <p>
      ü§ñ –Ø –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ –ò—Ä–∫—É—Ç—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤–æ–µ–Ω–Ω–æ–π —Å–ª—É–∂–±—ã –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –≤ –∑–æ–Ω–µ –°–í–û.
    </p>
    <p>
      üìã <b>–° –º–æ–µ–π –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ:</b>
      ‚Ä¢ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Å–ª—É–∂–±—É –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É;
      ‚Ä¢ —É–∑–Ω–∞—Ç—å –æ –º–µ—Ä–∞—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö –∏ —á–ª–µ–Ω–æ–≤ –∏—Ö —Å–µ–º–µ–π, –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π;
      ‚Ä¢ —É–∑–Ω–∞—Ç—å –æ —Å–æ–¥–µ–π—Å—Ç–≤–∏–∏ –≤ —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ;
      ‚Ä¢ —É–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.
    </p>
    <p>
      üìÑ <b>–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞:</b>
      /start ‚Äî –í—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞, –Ω–∞—á–Ω–µ—Ç–µ –±–µ—Å–µ–¥—É —Å ¬´—á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞¬ª.
    </p>`,
    { format: "html" },
  );

  await ctx.reply("üóÉÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:", {
    format: "html",
    attachments: [menuButtons],
  });
}
